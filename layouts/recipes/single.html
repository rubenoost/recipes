{{ define "main" }}
<article class="recipe container">
  <header class="recipe-header">
    <h1>{{ .Title }}</h1>
    {{ with .Description }}<p class="recipe-description">{{ . }}</p>{{ end }}

    <div class="recipe-meta-bar">
      {{ with .Params.prep_time }}<span class="meta-item">Prep: {{ . }}</span>{{ end }}
      {{ with .Params.cook_time }}<span class="meta-item">Cook: {{ . }}</span>{{ end }}
      {{ with .Params.servings }}<span class="meta-item">Servings: {{ . }}</span>{{ end }}
    </div>
  </header>

  {{ with .Params.image }}
  <img src="{{ . }}" alt="{{ $.Title }}" class="recipe-hero-image">
  {{ end }}

  <div class="recipe-body">
    <section class="ingredients">
      <h2>Ingredients</h2>
      <ul>
        {{ range .Params.ingredients }}
        <li><strong>{{ .amount }}</strong> {{ .item }}</li>
        {{ end }}
      </ul>
    </section>

    <section class="instructions">
      <h2>Instructions</h2>
      <ol>
        {{ range .Params.instructions }}
        <li>{{ .step }}</li>
        {{ end }}
      </ol>
    </section>

    {{ with .Content }}
    <section class="recipe-notes">
      <h2>Notes</h2>
      {{ . }}
    </section>
    {{ end }}
  </div>

  {{ with .Params.tags }}
  <footer class="recipe-tags">
    <strong>Tags:</strong>
    {{ range . }}
    <a href="/tags/{{ . | urlize }}/" class="tag">{{ . }}</a>
    {{ end }}
  </footer>
  {{ end }}
</article>
{{ end }}
